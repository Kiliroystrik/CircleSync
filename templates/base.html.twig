<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>
			{% block title %}Welcome!
			{% endblock %}
		</title>
		<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text></svg>">
		{% block stylesheets %}
			{{ encore_entry_link_tags('app') }}
		{% endblock %}
		{% block javascripts %}
			{{ encore_entry_script_tags('app') }}
		{% endblock %}
	</head>
	<body class="bg-gray-100">
		<header class="bg-white shadow-sm">
			<nav class="container mx-auto px-4 py-4 flex items-center justify-between">
				<h2 class="text-2xl font-semibold text-blue-600">CircleSync</h2>
				<ul class="flex items-center">
					{% if app.user %}
						<li class="mr-4">
							<a href="{{ path('app_home') }}" class="text-gray-700 hover:text-blue-600">Accueil</a>
						</li>
						<li>
							<a href="{{ path('app_logout') }}" class="text-gray-700 hover:text-blue-600">Se déconnecter</a>
						</li>
					{% else %}
						<li class="mr-4">
							<a href="{{ path('app_login') }}" class="text-gray-700 hover:text-blue-600">Se connecter</a>
						</li>
						<li>
							<a href="{{ path('app_register') }}" class="text-gray-700 hover:text-blue-600">S'inscrire</a>
						</li>
					{% endif %}
				</ul>
				{% if app.user %}
					<div class="ml-6 flex items-center">
						<h3 class="mr-4 text-gray-700">Bienvenu
							{{ app.user.lastname }}</h3>
						{% if app.user.image %}
							{% else %}
								<img class="w-10 h-10 rounded-full" src="{{ asset('assets/images/avatar/userProfile.jpg')}}" alt="Profile">
						{% endif %}
					</div>
				{% endif %}
			</nav>
		</header>

		{% if app.user %}
			<div class="container mx-auto px-4 py-8 flex">
				<aside class="w-1/4 mr-8">
					<h3 class="text-xl font-semibold text-gray-700 mb-4">Mes groupes</h3>
					<ul class="space-y-2">
						{% for group in app.user.groupes %}
							<li>
								<a href="{{ path('app_group_show', {'id': group.id}) }}" class="text-gray-600 hover:text-blue-600">{{ group.name }}</a>
							</li>
						{% endfor %}
					</ul>
					<a href="{{ path('app_group_new') }}" class="inline-block mt-4 px-6 py-2 bg-blue-600 text-white font-semibold rounded hover:bg-blue-500">Créer un groupe</a>
				</aside>

				<main class="w-3/4">
				{% else %}
					<main class="container mx-auto px-4 py-8">
					{% endif %}
					{% block body %}{% endblock %}
				</main>
				{% if app.user %}
				</div>
			{% endif %}
		</body>
	</body>
</html>
